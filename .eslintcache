[{"C:\\laragon\\www\\covid19br\\src\\App.js":"1","C:\\laragon\\www\\covid19br\\src\\index.js":"2","C:\\laragon\\www\\covid19br\\src\\components\\Header.js":"3","C:\\laragon\\www\\covid19br\\src\\pages\\Home.js":"4","C:\\laragon\\www\\covid19br\\src\\pages\\About.js":"5","C:\\laragon\\www\\covid19br\\src\\components\\List.js":"6","C:\\laragon\\www\\covid19br\\src\\components\\ListItem.js":"7","C:\\laragon\\www\\covid19br\\src\\components\\Image.js":"8","C:\\laragon\\www\\covid19br\\src\\components\\Card.js":"9","C:\\laragon\\www\\covid19br\\src\\components\\StatesContainer.js":"10","C:\\laragon\\www\\covid19br\\src\\components\\CardTop.js":"11","C:\\laragon\\www\\covid19br\\src\\components\\CardBottom.js":"12","C:\\laragon\\www\\covid19br\\src\\components\\CountryContainer.js":"13","C:\\laragon\\www\\covid19br\\src\\pages\\News.js":"14","C:\\laragon\\www\\covid19br\\src\\pages\\Coronavirus.js":"15","C:\\laragon\\www\\covid19br\\src\\components\\Feed.js":"16","C:\\laragon\\www\\covid19br\\src\\components\\NewsBig.js":"17","C:\\laragon\\www\\covid19br\\src\\components\\NewsSmall.js":"18","C:\\laragon\\www\\covid19br\\src\\DataContext.js":"19","C:\\laragon\\www\\covid19br\\src\\components\\MenuMobile.js":"20","C:\\laragon\\www\\covid19br\\src\\components\\States.js":"21","C:\\laragon\\www\\covid19br\\src\\components\\Country.js":"22","C:\\laragon\\www\\covid19br\\src\\components\\Menu.js":"23","C:\\laragon\\www\\covid19br\\src\\components\\Title.js":"24"},{"size":803,"mtime":1609291367655,"results":"25","hashOfConfig":"26"},{"size":202,"mtime":1609431003710,"results":"27","hashOfConfig":"26"},{"size":1584,"mtime":1609809143666,"results":"28","hashOfConfig":"26"},{"size":1301,"mtime":1609806988270,"results":"29","hashOfConfig":"26"},{"size":129,"mtime":1608175590522,"results":"30","hashOfConfig":"26"},{"size":419,"mtime":1609278011772,"results":"31","hashOfConfig":"26"},{"size":453,"mtime":1609278042385,"results":"32","hashOfConfig":"26"},{"size":173,"mtime":1609278299956,"results":"33","hashOfConfig":"26"},{"size":347,"mtime":1609277554842,"results":"34","hashOfConfig":"26"},{"size":366,"mtime":1609807861119,"results":"35","hashOfConfig":"26"},{"size":392,"mtime":1609189447735,"results":"36","hashOfConfig":"26"},{"size":529,"mtime":1609278924117,"results":"37","hashOfConfig":"26"},{"size":354,"mtime":1609807854576,"results":"38","hashOfConfig":"26"},{"size":2863,"mtime":1609176415263,"results":"39","hashOfConfig":"26"},{"size":147,"mtime":1608175497451,"results":"40","hashOfConfig":"26"},{"size":608,"mtime":1608576429356,"results":"41","hashOfConfig":"26"},{"size":1561,"mtime":1609128922574,"results":"42","hashOfConfig":"26"},{"size":510,"mtime":1608758126589,"results":"43","hashOfConfig":"26"},{"size":3450,"mtime":1609557961818,"results":"44","hashOfConfig":"26"},{"size":1098,"mtime":1609809204529,"results":"45","hashOfConfig":"26"},{"size":1759,"mtime":1609442310539,"results":"46","hashOfConfig":"26"},{"size":1195,"mtime":1609441409265,"results":"47","hashOfConfig":"26"},{"size":758,"mtime":1609292239952,"results":"48","hashOfConfig":"26"},{"size":1382,"mtime":1609808476609,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"1687npo",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"61"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\laragon\\www\\covid19br\\src\\App.js",[],["102","103"],"C:\\laragon\\www\\covid19br\\src\\index.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\Header.js",["104"],"C:\\laragon\\www\\covid19br\\src\\pages\\Home.js",["105"],"C:\\laragon\\www\\covid19br\\src\\pages\\About.js",[],["106","107"],"C:\\laragon\\www\\covid19br\\src\\components\\List.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\ListItem.js",["108"],"C:\\laragon\\www\\covid19br\\src\\components\\Image.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\Card.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\StatesContainer.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\CardTop.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\CardBottom.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\CountryContainer.js",[],"C:\\laragon\\www\\covid19br\\src\\pages\\News.js",["109","110","111","112","113","114","115"],"import React from \"react\";\r\nimport styles from \"../css/News.module.css\";\r\nimport NewsBig from \"../components/NewsBig\";\r\nimport NewsSmall from \"../components/NewsSmall\";\r\nimport List from \"../components/List\";\r\nimport convert from \"xml-js\";\r\nimport { DataContext, DataStorage } from \"../DataContext\";\r\nimport CountryContainer from \"../components/CountryContainer\";\r\nimport Card from \"../components/Card\";\r\nimport CardTop from \"../components/CardTop\";\r\nimport CardBottom from \"../components/CardBottom\";\r\nimport StatesContainer from \"../components/StatesContainer\";\r\n\r\nconst News = () => {\r\n  const [news, setNews] = React.useState(null);\r\n  const [newsBig, setNewsBig] = React.useState(null);\r\n  const data = React.useContext(DataContext);\r\n\r\n  React.useEffect(() => {\r\n    const feed = window.localStorage.getItem(\"feed\");\r\n    if (feed) {\r\n      const data = JSON.parse(feed);\r\n\r\n      setNews(data);\r\n      setNewsBig(data[Math.floor(Math.random() * data.length)]);\r\n      // console.log(data);\r\n      // console.log(data.length);\r\n    } else {\r\n      rss();\r\n    }\r\n  }, []);\r\n\r\n  async function rss() {\r\n    const response = await fetch(\"https://noticias.r7.com/saude/feed.xml\");\r\n    // const response = await fetch(\"http://g1.globo.com/dynamo/ciencia-e-saude/rss2.xml\");\r\n    const html = await response.text();\r\n\r\n    // const xml = new DOMParser().parseFromString(html, \"text/xml\");\r\n\r\n    // const tags = xml.getElementsByTagName(\"channel\");\r\n    // const convert = require(\"xml-js\");\r\n    const xml = html;\r\n    const result1 = convert.xml2json(xml, { compact: true, spaces: 4 });\r\n    // const result2 = convert.xml2json(xml, { compact: false, spaces: 4 });\r\n    const res = JSON.parse(result1);\r\n    // return res.feed.entry;\r\n    setNews(res.feed.entry);\r\n    setNewsBig(\r\n      res.feed.entry[Math.floor(Math.random() * res.feed.entry.length)]\r\n    );\r\n\r\n    window.localStorage.setItem(\"feed\", JSON.stringify(res.feed.entry));\r\n    // console.log(typeof res);\r\n    // console.log(res.feed.entry);\r\n  }\r\n\r\n  if (news === null) return null;\r\n  // console.log(newsBig);\r\n  const newsSmall = news.map((item, index) => {\r\n    if (newsBig) {\r\n      if (item.id._text !== newsBig.id._text)\r\n        return <NewsSmall key={index} dados={item} />;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <section className={styles.pageNews}>\r\n      <main className={styles.news}>\r\n        <div className={styles.highlights}>\r\n          <div className={styles.highlighted}>Em Destaque</div>\r\n          <NewsBig dados={newsBig} />\r\n        </div>\r\n\r\n        <div className={styles.newsThumbs}>\r\n          <div className={styles.latest}>Últimas Notícias</div>\r\n          <List>{newsSmall}</List>\r\n        </div>\r\n      </main>\r\n      <aside>\r\n        <div className={styles.covid}>Covid-19</div>\r\n        <Card />\r\n      </aside>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default News;\r\n","C:\\laragon\\www\\covid19br\\src\\pages\\Coronavirus.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\Feed.js",["116","117","118"],"C:\\laragon\\www\\covid19br\\src\\components\\NewsBig.js",["119"],"C:\\laragon\\www\\covid19br\\src\\components\\NewsSmall.js",[],"C:\\laragon\\www\\covid19br\\src\\DataContext.js",["120"],"import React from \"react\";\r\n\r\nexport const DataContext = React.createContext();\r\n\r\nexport const DataStorage = ({ children }) => {\r\n  const [states, setStates] = React.useState(null);\r\n  const [brazil, setBrazil] = React.useState(null);\r\n  const [ufUpdate, setUFUpdate] = React.useState(null);\r\n  const [brUpdate, setBRUpdate] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    initDataCovid();\r\n  }, []);\r\n\r\n  // Busca os dados da covid nos ESTADOS no localStorage ou faz fetch na API\r\n  function initDataCovid() {\r\n    const timestamp = localStorage.getItem(\"timestamp\");\r\n    const verify = timestampVerify(timestamp);\r\n    const dataStates = localStorage.getItem(\"dataStates\");\r\n    const dataBrazil = localStorage.getItem(\"dataBrazil\");\r\n\r\n    if (timestamp) {\r\n      if (verify >= 2) {\r\n        getDataCovid();\r\n      } else {\r\n        const timeUF = JSON.parse(dataStates)[0].datetime;\r\n        const timeBR = JSON.parse(dataBrazil).updated_at;\r\n        setUFUpdate(formatDate(timeUF));\r\n        setBRUpdate(formatDate(timeBR));\r\n\r\n        setStates(JSON.parse(dataStates));\r\n        setBrazil(JSON.parse(dataBrazil));\r\n      }\r\n    } else {\r\n      getDataCovid();\r\n    }\r\n  }\r\n\r\n  // }\r\n  // Verifica a diferenca de horas da ultima atualizacao\r\n  function timestampVerify(storage) {\r\n    const now = new Date().getTime();\r\n    const timeDiff = (new Date(now) - new Date(storage)) / 3600 / 1000;\r\n\r\n    return timeDiff.toFixed(2);\r\n  }\r\n\r\n  // Fetch dos dados da covid nos estados\r\n  async function getDataCovid() {\r\n    try {\r\n      // FETCH STATES\r\n      const statesResponse = await fetch(\r\n        \"https://covid19-brazil-api.now.sh/api/report/v1\"\r\n      );\r\n      const jsonStates = await statesResponse.json();\r\n      const sortStates = jsonStates.data.sort(function (a, b) {\r\n        let sort = a.state > b.state ? 1 : b.state > a.state ? -1 : 0;\r\n        return sort;\r\n      });\r\n\r\n      // FETCH BRAZIL\r\n      const brazilResponse = await fetch(\r\n        \"https://covid19-brazil-api.now.sh/api/report/v1/brazil\"\r\n      );\r\n      const jsonBrazil = await brazilResponse.json();\r\n\r\n      setStates(sortStates);\r\n      setBrazil(jsonBrazil);\r\n      //Remover dados do localStorage\r\n      localStorage.removeItem(\"dataStates\");\r\n      localStorage.removeItem(\"dataBrazil\");\r\n      localStorage.removeItem(\"timestamp\");\r\n      //Inserir dados no localStorage\r\n      localStorage.setItem(\"dataStates\", JSON.stringify(jsonStates.data));\r\n      localStorage.setItem(\"dataBrazil\", JSON.stringify(jsonBrazil.data));\r\n      //Inserir no localStorage a data que foi inserido os dados\r\n      const timestamp = new Date().getTime();\r\n      localStorage.setItem(\"timestamp\", timestamp);\r\n\r\n      setUFUpdate(formatDate(jsonStates.data[0].datetime));\r\n      setBRUpdate(formatDate(jsonBrazil.data.updated_at));\r\n      console.log(typeof jsonBrazil.data);\r\n      console.log(jsonBrazil.data);\r\n    } catch (err) {\r\n      console.log(\"erro: \" + err);\r\n    }\r\n  }\r\n\r\n  function formatDate(date) {\r\n    const string = date.replace(\".\", \"T\");\r\n    const strings = string.split(\"T\");\r\n    strings.pop();\r\n    const array = strings;\r\n    let day = array[0].split(\"-\");\r\n    day = day.reverse().join(\"/\");\r\n    const hour = array[1];\r\n    const newDate = day + \" às \" + hour;\r\n\r\n    return newDate;\r\n  }\r\n\r\n  return (\r\n    <DataContext.Provider value={{ states, ufUpdate, brUpdate, brazil }}>\r\n      {children}\r\n    </DataContext.Provider>\r\n  );\r\n};\r\n","C:\\laragon\\www\\covid19br\\src\\components\\MenuMobile.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\States.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\Country.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\Menu.js",[],"C:\\laragon\\www\\covid19br\\src\\components\\Title.js",[],{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","replacedBy":"124"},{"ruleId":"125","severity":1,"message":"126","line":2,"column":16,"nodeType":"127","messageId":"128","endLine":2,"endColumn":23},{"ruleId":"125","severity":1,"message":"129","line":2,"column":8,"nodeType":"127","messageId":"128","endLine":2,"endColumn":12},{"ruleId":"121","replacedBy":"130"},{"ruleId":"123","replacedBy":"131"},{"ruleId":"125","severity":1,"message":"132","line":2,"column":18,"nodeType":"127","messageId":"128","endLine":2,"endColumn":27},{"ruleId":"125","severity":1,"message":"133","line":7,"column":23,"nodeType":"127","messageId":"128","endLine":7,"endColumn":34},{"ruleId":"125","severity":1,"message":"134","line":8,"column":8,"nodeType":"127","messageId":"128","endLine":8,"endColumn":24},{"ruleId":"125","severity":1,"message":"135","line":10,"column":8,"nodeType":"127","messageId":"128","endLine":10,"endColumn":15},{"ruleId":"125","severity":1,"message":"136","line":11,"column":8,"nodeType":"127","messageId":"128","endLine":11,"endColumn":18},{"ruleId":"125","severity":1,"message":"137","line":12,"column":8,"nodeType":"127","messageId":"128","endLine":12,"endColumn":23},{"ruleId":"125","severity":1,"message":"138","line":17,"column":9,"nodeType":"127","messageId":"128","endLine":17,"endColumn":13},{"ruleId":"139","severity":1,"message":"140","line":59,"column":44,"nodeType":"141","messageId":"142","endLine":59,"endColumn":46},{"ruleId":"125","severity":1,"message":"143","line":3,"column":3,"nodeType":"127","messageId":"128","endLine":3,"endColumn":15},{"ruleId":"125","severity":1,"message":"144","line":4,"column":3,"nodeType":"127","messageId":"128","endLine":4,"endColumn":23},{"ruleId":"125","severity":1,"message":"145","line":5,"column":3,"nodeType":"127","messageId":"128","endLine":5,"endColumn":14},{"ruleId":"146","severity":1,"message":"147","line":41,"column":61,"nodeType":"148","endLine":41,"endColumn":76},{"ruleId":"149","severity":1,"message":"150","line":13,"column":6,"nodeType":"151","endLine":13,"endColumn":8,"suggestions":"152"},"no-native-reassign",["153"],"no-negated-in-lhs",["154"],"no-unused-vars","'NavLink' is defined but never used.","Identifier","unusedVar","'List' is defined but never used.",["153"],["154"],"'keyframes' is defined but never used.","'DataStorage' is defined but never used.","'CountryContainer' is defined but never used.","'CardTop' is defined but never used.","'CardBottom' is defined but never used.","'StatesContainer' is defined but never used.","'data' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'processNodes' is defined but never used.","'convertNodeToElement' is defined but never used.","'htmlparser2' is defined but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'initDataCovid'. Either include it or remove the dependency array.","ArrayExpression",["155"],"no-global-assign","no-unsafe-negation",{"desc":"156","fix":"157"},"Update the dependencies array to be: [initDataCovid]",{"range":"158","text":"159"},[407,409],"[initDataCovid]"]